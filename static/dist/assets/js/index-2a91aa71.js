import{Q as d,R as ie}from"./echarts-3ec0e0b7.js";import{s as z}from"./pinia-f5c09375.js";import{s as R,a as se,u as ne}from"./index-fa427f68.js";import{c as me}from"./china-778a391c.js";import{d as N,b as p,_ as ce,i as he,bb as ue,e as A,ag as M,o as h,c as g,V as b,P as u,F as fe,a8 as de,a as r,am as F,n as B,O as pe,J as S,U as v,S as V,K as W}from"./@vue-859b4330.js";import{_ as ge}from"./_plugin-vue_export-helper-c27b6911.js";import"./zrender-d345b12a.js";import"./tslib-54e39b60.js";import"./vue-router-0ce8cd6d.js";import"./vue-i18n-a46d56de.js";import"./@intlify-d9393dcf.js";import"./vue-9a76c5f3.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-e9b58552.js";import"./nprogress-28073a82.js";import"./axios-28bc18a3.js";import"./qs-42f07db3.js";import"./side-channel-99bfd094.js";import"./get-intrinsic-4a38020a.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-6482c9b0.js";import"./set-function-length-9c361e89.js";import"./define-data-property-bf6c9733.js";import"./has-property-descriptors-58650a95.js";import"./gopd-e1d311d9.js";import"./object-inspect-70513235.js";import"./element-plus-9b914f77.js";import"./lodash-es-21c98b27.js";import"./@vueuse-8b13c3f4.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-816b3f93.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-72afddb3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-432baded.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-18559e02.js";function I(){return{getMain:f=>R({url:"/api/main/num/",method:"GET",params:f}),getDistribution:f=>R({url:"/api/main/user_distribution/",method:"GET",params:f})}}const be={class:"home-container layout-pd"},ve={class:"home-card-item flex"},_e={class:"flex-auto"},ye={class:"font30"},Ce={key:0,class:"ml5 font16",style:{color:"#ff6462"}},we={key:1,class:"ml5 font16",style:{color:"#6660f9"}},xe={class:"mt10"},Fe={class:"home-card-item",style:{display:"flex"}},Se={class:"home-card-item2"},Ee={class:"home-card-item3"},Te=N({name:"home"}),De=N({...Te,setup(f){const E=p(),T=p(),D=p(),L=p(),P=se(),G=ne(),{themeConfig:H}=z(G),{isTagsViewCurrenFull:$}=z(P),e=ce({mainData:[],global:{homeChartOne:null,homeChartTwo:null,homeCharThree:null,homeChartFour:null,dispose:[null,"",void 0]},homeOne:[{num1:"125,12",num2:"-12.32",num3:"总访问人数",num4:"fa fa-meetup",color1:"#FF6462",color2:"--next-color-primary-lighter",color3:"--el-color-primary"},{num1:"653,33",num2:"+42.32",num3:"点击量（近30天）",num4:"iconfont icon-ditu",color1:"#6690F9",color2:"--next-color-success-lighter",color3:"--el-color-success"},{num1:"125,65",num2:"+17.32",num3:"点击量（近7天）",num4:"iconfont icon-zaosheng",color1:"#6690F9",color2:"--next-color-warning-lighter",color3:"--el-color-warning"},{num1:"520,43",num2:"-10.01",num3:"点击量（当天）",num4:"fa fa-github-alt",color1:"#FF6462",color2:"--next-color-danger-lighter",color3:"--el-color-danger"}],dataList:[{name:"澳门",value:18},{name:"香港",value:273},{name:"台湾",value:153},{name:"新疆",value:76},{name:"宁夏",value:75},{name:"青海",value:18},{name:"甘肃",value:134},{name:"陕西",value:248},{name:"西藏",value:1},{name:"云南",value:176},{name:"贵州",value:146},{name:"四川",value:543},{name:"重庆",value:576},{name:"海南",value:168},{name:"广西",value:254},{name:"广东",value:1407},{name:"湖南",value:1018},{name:"湖北",value:67800},{name:"河南",value:1273},{name:"山东",value:765},{name:"江西",value:936},{name:"福建",value:307},{name:"安徽",value:990},{name:"浙江",value:1237},{name:"江苏",value:633},{name:"上海",value:394},{name:"黑龙江省",value:484},{name:"吉林",value:93},{name:"辽宁",value:126},{name:"内蒙古",value:75},{name:"山西",value:133},{name:"河北",value:319},{name:"天津",value:137},{name:"北京",value:512}],myCharts:[],charts:{theme:"",bgColor:"",color:"#303133"}}),J=t=>{let s=[],i=[];for(let o=0;o<t.length;o++)s.push(t[o].name),i.push(t[o].value);e.global.dispose.some(o=>o===e.global.homeChartOne)||e.global.homeChartOne.dispose(),e.global.homeChartOne=F(d(E.value,e.charts.theme));const l={grid:{left:"3%",right:"4%",bottom:"3%",top:"5%",containLabel:!0},xAxis:{type:"value",show:!1,width:"10px"},yAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},data:s},series:[{name:"Direct",type:"bar",stack:"total",label:{show:!1,position:"right"},emphasis:{focus:"series"},barWidth:10,data:t,itemStyle:{normal:{color:function(o){return o.data>=0&&o.data<10?"#BEDAEE":o.data>=10&&o.data<100?"#ffd768":o.data>=100&&o.data<1e3?"#ff8c71":o.data>=1e3&&o.data<1e4?"#ff5428":"#7f1100"}}}}]};e.global.homeChartOne.setOption(l),e.myCharts.push(e.global.homeChartOne)},K=t=>{var s=d(T.value);ie("china",me);const i={title:{text:"用户分布",x:"left",textStyle:{fontSize:"15"}},grid:{top:70,right:20,bottom:30,left:30},tooltip:{formatter:function(l,o,a){return l.value==".5"?l.name+"：有疑似病例":l.seriesName+"<br />"+l.name+"："+l.value}},visualMap:{min:0,max:1e5,left:26,bottom:40,showLabel:!0,text:["高","低"],pieces:[{gt:1e4,label:"> 10000人",color:"#7f1100"},{gte:1e3,lte:1e4,label:"1000 - 10000人",color:"#ff5428"},{gte:100,lt:1e3,label:"100 - 1000人",color:"#ff8c71"},{gte:10,lt:100,label:"10 - 100人",color:"#ffd768"},{gte:1,lt:10,label:"1 - 10人",color:"#BEDAEE"}],show:!0},geo:{map:"china",roam:!0,scaleLimit:{min:1,max:2},zoom:1.13,top:50,label:{show:!0,fontSize:"14",color:"rgba(0,0,0,0.7)"},itemStyle:{borderColor:"rgba(0, 0, 0, 0.2)"},emphasis:{areaColor:"#f2d5ad",shadowOffsetX:0,shadowOffsetY:0,borderWidth:0}},series:[{name:"用户人数",type:"map",geoIndex:0,data:t}]};s.setOption(i)},Q=t=>{console.log("==>>111",t);let s=[],i=[];for(let a=0;a<t.length;a++)s.push(t[a].name),i.push(t[a].value);e.global.dispose.some(a=>a===e.global.homeChartTwo)||e.global.homeChartTwo.dispose(),e.global.homeChartTwo=F(d(D.value,e.charts.theme));const l=["#ff8c71","#FFDCDC","#FEC279","#968AF5","#E790E8","#E730E6"],o={backgroundColor:e.charts.bgColor,title:{text:"浏览器分布",x:"left",textStyle:{fontSize:"15",color:e.charts.color}},tooltip:{trigger:"item",formatter:"{b} <br/> {c}"},legend:{type:"scroll",orient:"vertical",right:"5%",top:"30%",itemWidth:14,itemHeight:14,data:s,textStyle:{rich:{name:{fontSize:14,fontWeight:400,width:200,height:35,padding:[0,0,0,60],color:e.charts.color},rate:{fontSize:15,fontWeight:500,height:35,width:40,padding:[0,0,0,30],color:e.charts.color}}}},series:[{type:"pie",center:["35%","58%"],itemStyle:{color:function(a){return l[a.dataIndex]}},label:{show:!1},labelLine:{show:!1},data:t}]};e.global.homeChartTwo.setOption(o),e.myCharts.push(e.global.homeChartTwo)},U=t=>{e.global.dispose.some(n=>n===e.global.homeChartFour)||e.global.homeChartFour.dispose(),e.global.homeChartFour=F(d(L.value,e.charts.theme));let s=["#ff8c71","#ffd768","#DCDCFF","#E3D2FF","#BEDAEE"],i=[];t.map((n,y)=>{i.push(n.name),n.itemStyle={color:s[y]}});const l=(n,y=!1)=>{let C=[],Z={value:40,name:null,itemStyle:{opacity:0},tooltip:{show:!1}};return n.filter(m=>m.value&&m.value>0).length<=1?n:(n.map((m,ee)=>{let O=m;if(y){let te=n.map(c=>c.value).reduce((c,re)=>c+re),k=Math.PI*2/te,w=0;for(let c=0;c<ee;c++)w+=n[c].value;let oe=w+m.value,ae=k*w,le=k*oe,x=(ae+le)/2;x=x*180/Math.PI,O={...m,itemStyle:{color:m.itemStyle.color+"7a"},label:{show:!0,position:"inside",color:"#000",rotate:-x,fontSize:13,color:"#333"}}}C.push(O),m.value&&C.push(Z)}),C)};let o=l(t),a=l(t,!0);const q={backgroundColor:"#fff",title:{text:"操作系统分布",x:"left",textStyle:{fontSize:"15",color:e.charts.color}},tooltip:{trigger:"item"},legend:{data:i,type:"scroll",orient:"vertical",right:"5%",top:"30%",itemWidth:14,itemHeight:14},color:s,series:[{name:"Access From",type:"pie",radius:["45%","75%"],center:["35%","55%"],avoidLabelOverlap:!1,emptyCircleStyle:{color:"rgba(255,255,255,0)"},label:{show:!1},data:o,tooltip:{show:!1},emphasis:{disabled:!0}},{name:"Access From",type:"pie",radius:["35%","65%"],center:["35%","55%"],avoidLabelOverlap:!1,emptyCircleStyle:{color:"rgba(255,255,255,0)"},labelLine:{show:!1},label:{show:!0,position:"inside",color:"#000",rotate:0},data:a}]};e.global.homeChartFour.setOption(q),e.myCharts.push(e.global.homeChartFour)},_=()=>{B(()=>{for(let t=0;t<e.myCharts.length;t++)setTimeout(()=>{e.myCharts[t].resize()},t*1e3)})},X=()=>{window.addEventListener("resize",_)};he(()=>{X(),j(),Y()}),ue(()=>{_()}),A(()=>$.value,()=>{_()}),A(()=>H.value.isIsDark,t=>{B(()=>{e.charts.theme=t?"dark":"",e.charts.bgColor=t?"transparent":"",e.charts.color=t?"#dadada":"#303133",setTimeout(()=>{},500),setTimeout(()=>{},700),setTimeout(()=>{},1e3)})},{deep:!0,immediate:!0});const Y=()=>{I().getDistribution().then(t=>{Q(t.data.browser),K(t.data.address),J(t.data.address),U(t.data.os)})},j=()=>{I().getMain().then(t=>{e.mainData=t.data,console.log("==>>res9999",t)})};return(t,s)=>{const i=M("el-col"),l=M("el-row");return h(),g("div",be,[b(l,{gutter:15,class:"home-card-one mb15"},{default:u(()=>[(h(!0),g(fe,null,de(e.mainData,(o,a)=>(h(),pe(i,{xs:24,sm:12,md:12,lg:6,xl:6,key:a,class:S({"home-media home-media-lg":a>1,"home-media-sm":a===1})},{default:u(()=>[r("div",ve,[r("div",{class:S(["flex-margin flex w100",` home-one-animation${a}`])},[r("div",_e,[r("span",ye,v(o.count),1),o.rate>0?(h(),g("span",Ce,v(o.rate)+"%",1)):V("",!0),o.rate<0?(h(),g("span",we,v(o.rate)+"%",1)):V("",!0),r("div",xe,v(o.name),1)]),r("div",{class:"home-card-item-icon flex",style:W({background:`var(${o.backgroundColor})`})},[r("i",{class:S(["flex-margin font32",o.icon]),style:W({color:`var(${o.color})`})},null,6)],4)],2)])]),_:2},1032,["class"]))),128))]),_:1}),b(l,{gutter:15,class:"home-card-two mb15"},{default:u(()=>[b(i,{xs:24,sm:14,md:14,lg:18,xl:18},{default:u(()=>[r("div",Fe,[r("div",{style:{height:"100%",width:"70%"},ref_key:"homeMapRef",ref:T},null,512),r("div",{style:{height:"100%",width:"30%"},ref_key:"homeLineRef",ref:E},null,512)])]),_:1}),b(i,{xs:24,sm:10,md:10,lg:6,xl:6,class:"home-media"},{default:u(()=>[r("div",Se,[r("div",{style:{height:"100%"},ref_key:"homeParRef",ref:D},null,512)]),r("div",Ee,[r("div",{style:{height:"100%"},ref_key:"homePieRef",ref:L},null,512)])]),_:1})]),_:1})])}}});const vt=ge(De,[["__scopeId","data-v-c6bb98f8"]]);export{vt as default};
